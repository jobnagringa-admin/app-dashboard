---
/**
 * Checkout Page
 *
 * Main checkout page for #jobnagringa subscription.
 * Integrates with payment system.
 */

import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout
  title="Checkout - #jobnagringa"
  description="Finalize sua assinatura do #jobnagringa"
  includeNavigation={true}
  includeFooter={false}
  noIndex={true}
  bodyClass=""
>
  <div class="checkout_section">
    <div class="container-medium">
      <div class="checkout_container">
        <div class="checkout_header">
          <a href="/" class="link-return w-inline-block">
            <div class="button is-small is-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M19 12H5M12 19l-7-7 7-7"></path>
              </svg>
            </div>
          </a>
          <h1 class="heading-style-h3">Finalizar Assinatura</h1>
        </div>

        <div class="checkout_content">
          <div class="checkout_form-wrapper">
            <!-- Checkout form will be dynamically loaded -->
            <div class="checkout_loading">
              <p class="text-color-muted">Carregando formulario de pagamento...</p>
            </div>
          </div>

          <div class="checkout_summary">
            <div class="checkout_summary-card">
              <h3 class="heading-style-h5">#JNG Community</h3>
              <div class="spacer-small"></div>
              <div class="checkout_features">
                <div class="checkout_feature">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <polyline points="20 6 9 17 4 12"></polyline>
                  </svg>
                  <span>Acesso antecipado as vagas</span>
                </div>
                <div class="checkout_feature">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <polyline points="20 6 9 17 4 12"></polyline>
                  </svg>
                  <span>Grupo exclusivo no WhatsApp</span>
                </div>
                <div class="checkout_feature">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <polyline points="20 6 9 17 4 12"></polyline>
                  </svg>
                  <span>Mentorias em grupo</span>
                </div>
                <div class="checkout_feature">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <polyline points="20 6 9 17 4 12"></polyline>
                  </svg>
                  <span>Workshops exclusivos</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</BaseLayout>

<script is:inline>
  // API URL for payment
  const API_URL = 'https://jobnagringa.pay.nova.money/api/v1';
</script>

<style>
  .checkout_section {
    padding: 2rem 0 4rem;
    min-height: 80vh;
  }

  .checkout_container {
    max-width: 1000px;
    margin: 0 auto;
  }

  .checkout_header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .checkout_content {
    display: grid;
    grid-template-columns: 1fr 350px;
    gap: 2rem;
  }

  @media (max-width: 768px) {
    .checkout_content {
      grid-template-columns: 1fr;
    }
  }

  .checkout_form-wrapper {
    background: white;
    padding: 2rem;
    border-radius: 0.5rem;
    border: 1px solid var(--neutrals--neutral-200, #e5e5e5);
  }

  .checkout_loading {
    text-align: center;
    padding: 3rem;
  }

  .checkout_summary-card {
    background: var(--neutrals--neutral-100, #f5f5f5);
    padding: 1.5rem;
    border-radius: 0.5rem;
    position: sticky;
    top: 2rem;
  }

  .checkout_features {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .checkout_feature {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
  }

  .checkout_feature svg {
    color: var(--blues--blue-50, #0071ff);
    flex-shrink: 0;
  }
</style>
