---
/**
 * ChatGPT Tool Detail Page
 * Migrated from: src-legacy/detail_chatgpt.html
 * Webflow Page ID: 65e6d6ae1b4f7ba437a9f3ba
 *
 * TODO: Implement CMS data fetching for ChatGPT tools/prompts
 * TODO: Replace placeholder content with dynamic tool data
 */
import BaseLayout from '@layouts/BaseLayout.astro';

export const prerender = false;

const { slug } = Astro.params;

// TODO: Fetch ChatGPT tool/prompt data from CMS
// const tool = await fetchChatGPTTool(slug);
// if (!tool) return Astro.redirect('/404');

const pageTitle = `ChatGPT Tool - ${slug}`;
---

<BaseLayout title={pageTitle}>
  <div class="padding-global">
    <div class="container-large">
      <div class="padding-section-large">
        <div class="chatgpt-tool-detail">
          <div class="margin-bottom margin-medium">
            <h1 class="heading-style-h2">
              {/* tool.name */}
              ChatGPT Tool: {slug}
            </h1>
          </div>

          <!-- Tool Description -->
          <div class="tool-description w-richtext">
            {/* tool.description */}
            <p>Tool description will be loaded from the CMS.</p>
          </div>

          <div class="spacer-medium"></div>

          <!-- Prompt Template -->
          <div class="prompt-section">
            <h3 class="heading-style-h5">Prompt Template</h3>
            <div class="prompt-template">
              <pre><code>{/* tool.promptTemplate */}
Copy this prompt template to use with ChatGPT...
              </code></pre>
            </div>
          </div>

          <div class="spacer-medium"></div>

          <!-- Copy Button -->
          <div class="tool-actions">
            <button class="button w-button" id="copy-prompt"> Copy Prompt </button>
          </div>

          <div class="spacer-large"></div>

          <!-- Usage Instructions -->
          <div class="usage-instructions w-richtext">
            <h3 class="heading-style-h5">How to Use</h3>
            {/* tool.instructions */}
            <p>Usage instructions will be loaded from the CMS.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</BaseLayout>

<script>
  document.getElementById('copy-prompt')?.addEventListener('click', () => {
    const promptText = document.querySelector('.prompt-template code')?.textContent;
    if (promptText) {
      navigator.clipboard.writeText(promptText);
      alert('Prompt copied to clipboard!');
    }
  });
</script>
