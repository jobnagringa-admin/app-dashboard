---
/**
 * Course Page - JNG Workshops
 * Protected route requiring paid membership
 */
import DashboardLayout from '../../layouts/DashboardLayout.astro';
---

<DashboardLayout
  title="Workshops #JNG"
  description="Encontre vagas, faca networking, entenda o mercado e monte sua marca pessoal"
  currentPage="course"
  requiresAuth={true}
  requiresPaidMembership={true}
>
  <div class="main-tab_section">
    <div class="main-tab_wrapper">
      <div class="main-tab_menu">
        <div class="div-block-24">
          <div data-ms-member="first-name" class="text-weight-semibold">User Name</div>
          <div class="text-size-small text-style-muted">You're JNG Community Member</div>
        </div>
        <div class="main-tab_menu-grid">
          <a href="/jng/member-dashboard" class="main-content-tab_title w-inline-block">
            <div>Home</div>
          </a>
          <a
            href="/jng/course"
            aria-current="page"
            class="main-content-tab_title w-inline-block w--current"
          >
            <div>Workshops JNG</div>
          </a>
          <a href="/jng/resume-generator" class="main-content-tab_title w-inline-block">
            <div>Resume Generator</div>
          </a>
          <a href="/jng/jobs" class="main-content-tab_title w-inline-block">
            <div>Vagas 100% Remotas</div>
          </a>
          <a href="/jng/community" class="main-content-tab_title w-inline-block">
            <div>Reprises das Lives</div>
          </a>
          <a href="/jng/job-search" class="main-content-tab_title w-inline-block">
            <div>Global Search Tool</div>
          </a>
          <a href="/jng/partners" class="main-content-tab_title w-inline-block">
            <div>Descontos e Parcerias</div>
          </a>
          <a href="/jng/companies-hiring" class="main-content-tab_title w-inline-block">
            <div>Companies Hiring LATAM</div>
          </a>
        </div>
      </div>
      <div class="main-tab_content">
        <div class="main-tab_pane">
          <div class="course_header-copy">
            <div class="lesson_breadcrumbs is-wrapped-no-margin">
              <div class="text-size-small text-style-muted">Voce esta em:</div>
              <a href="/jng/member-dashboard" class="breadcrumb_link w-inline-block">
                <div class="icon-1x1-small w-embed">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="1rem"
                    height="1rem"
                    viewBox="0 0 24 24"
                  >
                    <path
                      fill="currentColor"
                      d="M12.74 2.32a1 1 0 0 0-1.48 0l-9 10A1 1 0 0 0 3 14h2v7a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-7h2a1 1 0 0 0 1-1a1 1 0 0 0-.26-.68z"
                    ></path>
                  </svg>
                </div>
                <div>#JNG Community</div>
              </a>
              <div class="text-color-light-gray">/</div>
              <a href="#" class="breadcrumb_link w-inline-block">
                <div>Curso #MetodoJNG</div>
              </a>
            </div>
            <div class="dashboard-header_wrapper">
              <div class="dashboard-header_content">
                <h1 class="heading-style-h2">Workshops #JNG</h1>
                <div class="text-style-muted">
                  Encontre vagas, faca networking, entenda o mercado e monte sua marca pessoal.
                </div>
              </div>
            </div>
          </div>
          <div class="main-tab_container-content">
            <div>
              <div class="w-dyn-list">
                <div role="list" class="collection-list-3 w-dyn-items">
                  <!-- Course modules loaded dynamically via Webflow CMS -->
                  <div role="listitem" class="card w-dyn-item">
                    <div>
                      <div class="lesson_video-wrapper">
                        <div class="lesson_video-embed w-embed w-iframe">
                          <div style="position: relative; padding-top: 56.25%">
                            <iframe
                              id="panda-"
                              src="https://player-vz-7d355ab5-ed5.tv.pandavideo.com.br/embed/?v="
                              style="border: none; position: absolute; top: 0; left: 0;"
                              allow="accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;"
                              allowfullscreen="true"
                              width="100%"
                              height="100%"
                              fetchpriority="high"></iframe>
                          </div>
                        </div>
                      </div>
                      <div class="lesson_header is-border-bottom">
                        <div class="margin-top">
                          <div class="video_meta-info">
                            <h2 class="heading-style-3 w-dyn-bind-empty"></h2>
                            <div class="w-dyn-bind-empty"></div>
                            <div class="spacer-tiny"></div>
                            <div class="link_group text-color-primary">
                              <div class="text-weight-medium w-embed">Acesse os Capitulos</div>
                              <div class="icon-1x1-small w-embed">
                                <svg
                                  xmlns="http://www.w3.org/2000/svg"
                                  width="24"
                                  height="24"
                                  viewBox="0 0 24 24"
                                >
                                  <path
                                    fill="currentColor"
                                    d="M8.293 4.293a1 1 0 0 0 0 1.414L14.586 12l-6.293 6.293a1 1 0 1 0 1.414 1.414l7-7a1 1 0 0 0 0-1.414l-7-7a1 1 0 0 0-1.414 0"
                                  ></path>
                                </svg>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="margin-top margin-small">
                      <div module-parent="" class="list_collection"></div>
                    </div>
                  </div>
                </div>
                <div class="w-dyn-empty">
                  <div class="text-align-center padding-large">
                    <div class="text-weight-medium text-color-muted">Carregando workshops...</div>
                  </div>
                </div>
              </div>
              <div class="w-dyn-list">
                <div role="list" class="list_collection w-dyn-items">
                  <!-- Lesson items loaded dynamically via Webflow CMS -->
                  <div role="listitem" class="w-dyn-item">
                    <a module-child="" href="#" class="list_item is-large w-inline-block">
                      <div class="lesson-card_content">
                        <div class="icon-1x1-level is-hidden w-embed">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
                            <path
                              fill="currentColor"
                              d="M30 30h-8V4h8zm-6-2h4V6h-4zm-4 2h-8V12h8zm-10 0H2V18h8z"></path>
                          </svg>
                        </div>
                        <div class="user-card--sm__title">
                          <div class="lesson-card_content is-stretch">
                            <div class="lesson-card_title-wrapper">
                              <div class="card-row_title w-dyn-bind-empty"></div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="icon-1x1-small w-embed">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                        >
                          <path
                            fill="currentColor"
                            d="M8.293 4.293a1 1 0 0 0 0 1.414L14.586 12l-6.293 6.293a1 1 0 1 0 1.414 1.414l7-7a1 1 0 0 0 0-1.414l-7-7a1 1 0 0 0-1.414 0"
                          ></path>
                        </svg>
                      </div>
                    </a>
                  </div>
                </div>
                <div class="w-dyn-empty">
                  <div>No items found.</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <Fragment slot="scripts">
    <!-- Finsweet CMS Load -->
    <script async src="https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmsload@1/cmsload.js"
    ></script>
    <!-- Finsweet CMS Filter -->
    <script async src="https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmsfilter@1/cmsfilter.js"
    ></script>

    <!-- Module parent-child organization script -->
    <script is:inline>
      document.addEventListener('DOMContentLoaded', function () {
        // Get all parent and child elements
        const parents = document.querySelectorAll('[module-parent]');
        const children = document.querySelectorAll('[module-child]');

        // Move children to their matching parents
        children.forEach(function (child) {
          const childSlug = child.getAttribute('module-child');
          const matchingParent = Array.from(parents).find(function (parent) {
            return parent.getAttribute('module-parent') === childSlug;
          });

          if (matchingParent) {
            matchingParent.appendChild(child);
          } else {
            child.style.display = 'none';
          }
        });

        // Sort children within each parent
        parents.forEach(function (parent) {
          const childArray = Array.from(parent.querySelectorAll('[module-child]'));
          childArray.sort(function (a, b) {
            const textA = a.textContent.trim();
            const textB = b.textContent.trim();
            const numA = parseInt((textA.match(/A(\d+)/) || [])[1], 10);
            const numB = parseInt((textB.match(/A(\d+)/) || [])[1], 10);

            if (!isNaN(numA) && !isNaN(numB)) {
              return numA - numB;
            }
            return textA.localeCompare(textB, undefined, { numeric: true, sensitivity: 'base' });
          });
          childArray.forEach(function (child) {
            parent.appendChild(child);
          });
        });
      });
    </script>
  </Fragment>
</DashboardLayout>
