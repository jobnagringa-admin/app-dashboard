---
/**
 * Catch-all route for Clerk UserProfile sub-routes
 * Routes like /profile/account, /profile/security, etc. are handled here
 */
import BaseLayout from '@layouts/BaseLayout.astro';
import CommunityNavbar from '@components/CommunityNavbar.astro';
import { UserProfile } from '@clerk/astro/components';
---

<BaseLayout
  title={'Meu Perfil - JNG'}
  description={'Gerencie suas informações de conta e perfil no Job na Gringa'}
  ogImage={'/cdn-assets/images/graphics/social/og-image.avif'}
  wfPage={'profile-page'}
>
  <div class="nav_wrapper">
    <CommunityNavbar />
  </div>

  <!-- Header Section -->
  <div class="upper_wrap is-profile">
    <div class="dashboard_container">
      <div class="profile-header">
        <div class="profile-header_content">
          <h1 class="text-color-white">Meu Perfil</h1>
          <p class="text-color-light-blue">
            Gerencie suas informações pessoais, segurança e preferências da conta
          </p>
        </div>
      </div>
    </div>
    <img
      src="/cdn-assets/images/graphics/backgrounds/mesh-840-1.avif"
      loading="lazy"
      sizes="100vw"
      srcset="/cdn-assets/images/graphics/backgrounds/mesh-840-1.avif 2000w"
      alt=""
      class="header_backgrond-img"
    />
    <div class="code-embed-8 w-embed">
      <svg viewBox="0 0 2173 159" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M0 0.845703C251.665 97.0831 644.765 159 1086.5 159H0V0.845703Z"
          fill="var(--blues--blue-10)"></path>
        <path
          d="M2173 159H1086.5C1528.23 159 1921.33 97.0831 2173 0.845703V159Z"
          fill="var(--blues--blue-10)"></path>
      </svg>
    </div>
  </div>

  <!-- Main Content -->
  <main class="main-wrapper-2 background_color">
    <div class="dashboard_container move_upside">
      <!-- Clerk UserProfile Component -->
      <div class="profile-container">
        <UserProfile
          path="/profile"
          routing="path"
          appearance={{
            elements: {
              rootBox: 'profile-root-box',
              card: 'profile-card',
              navbar: 'profile-navbar',
              navbarButton: 'profile-navbar-button',
              navbarButtonIcon: 'profile-navbar-icon',
              pageScrollBox: 'profile-scroll-box',
              page: 'profile-page-content',
              profileSection: 'profile-section',
              profileSectionTitle: 'profile-section-title',
              profileSectionContent: 'profile-section-content',
              profileSectionPrimaryButton: 'profile-primary-button',
              formButtonPrimary: 'profile-form-button-primary',
              formButtonReset: 'profile-form-button-reset',
              formFieldInput: 'profile-form-input',
              formFieldLabel: 'profile-form-label',
              avatarBox: 'profile-avatar-box',
              avatarImage: 'profile-avatar-image',
              badge: 'profile-badge',
              headerTitle: 'profile-header-title',
              headerSubtitle: 'profile-header-subtitle',
            },
            variables: {
              colorPrimary: '#0071ff',
              colorBackground: '#ffffff',
              colorText: '#1a1a2e',
              colorTextSecondary: '#666',
              colorInputBackground: '#f5f7fa',
              colorInputText: '#1a1a2e',
              borderRadius: '0.5rem',
              fontFamily: 'Inter, sans-serif',
            },
          }}
        />
      </div>

      <!-- Help Section -->
      <div class="profile-help-section">
        <div class="profile-help-card">
          <div class="profile-help-icon">
            <div class="icon-1x1-medium w-embed">
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                <path
                  fill="currentColor"
                  d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10s10-4.486 10-10S17.514 2 12 2m0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8s8 3.589 8 8s-3.589 8-8 8"
                ></path>
                <path fill="currentColor" d="M11 11h2v6h-2zm0-4h2v2h-2z"></path>
              </svg>
            </div>
          </div>
          <div class="profile-help-content">
            <h4>Precisa de ajuda?</h4>
            <p>
              Se você tiver alguma dúvida sobre sua conta ou precisar de suporte, entre em contato
              com nossa equipe.
            </p>
            <a
              href="https://jobnagringa.com.br/redirect/zap"
              target="_blank"
              class="button is-small is-secondary w-button"
            >
              Falar com Suporte
            </a>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer Section -->
  <section class="footer_section">
    <div class="container-large">
      <div class="footer_header">
        <div class="footer_disclaimer">
          <a href="/" class="w-inline-block">
            <img
              loading="lazy"
              src="/cdn-assets/images/logos/companies/logo-vectors-wrapper.svg"
              alt="Job na Gringa Logo"
            />
          </a>
          <div class="text-size-tiny text-style-muted">
            Não é permitida a reprodução de qualquer informação sem autorização prévia do
            #jobnagringa.
          </div>
        </div>
        <div class="social_grid">
          <a
            href="https://link.jobnagringa.com.br/porteiro-discord"
            target="_blank"
            class="social-links w-inline-block"
            aria-label="Discord"
          >
            <div class="footer_social-icons w-embed">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="1em"
                height="1em"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  fill="currentColor"
                  d="M20.317 4.37a19.8 19.8 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.3 18.3 0 0 0-5.487 0a13 13 0 0 0-.617-1.25a.08.08 0 0 0-.079-.037A19.7 19.7 0 0 0 3.677 4.37a.1.1 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.08.08 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.08.08 0 0 0 .084-.028a14 14 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13 13 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10 10 0 0 0 .372-.292a.07.07 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.07.07 0 0 1 .078.01q.181.149.373.292a.077.077 0 0 1-.006.127a12.3 12.3 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.08.08 0 0 0 .084.028a19.8 19.8 0 0 0 6.002-3.03a.08.08 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.06.06 0 0 0-.031-.03M8.02 15.33c-1.182 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418m7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418"
                ></path>
              </svg>
            </div>
          </a>
          <a
            href="https://www.linkedin.com/company/jobnagringa/posts/?feedView=all"
            target="_blank"
            class="social-links w-inline-block"
            aria-label="LinkedIn"
          >
            <div class="footer_social-icons w-embed">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="1em"
                height="1em"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  fill="currentColor"
                  d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037c-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85c3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.06 2.06 0 0 1-2.063-2.065a2.064 2.064 0 1 1 2.063 2.065m1.782 13.019H3.555V9h3.564zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0z"
                ></path>
              </svg>
            </div>
          </a>
          <a
            href="https://whatsapp.com/channel/0029Va80qA4IyPtazJAxm33d"
            target="_blank"
            class="social-links w-inline-block"
            aria-label="WhatsApp"
          >
            <div class="footer_social-icons w-embed">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="1em"
                height="1em"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  fill="currentColor"
                  d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967c-.273-.099-.471-.148-.67.15c-.197.297-.767.966-.94 1.164c-.173.199-.347.223-.644.075c-.297-.15-1.255-.463-2.39-1.475c-.883-.788-1.48-1.761-1.653-2.059c-.173-.297-.018-.458.13-.606c.134-.133.298-.347.446-.52s.198-.298.298-.497c.099-.198.05-.371-.025-.52s-.669-1.612-.916-2.207c-.242-.579-.487-.5-.669-.51a13 13 0 0 0-.57-.01c-.198 0-.52.074-.792.372c-.272.297-1.04 1.016-1.04 2.479c0 1.462 1.065 2.875 1.213 3.074s2.096 3.2 5.077 4.487c.709.306 1.262.489 1.694.625c.712.227 1.36.195 1.871.118c.571-.085 1.758-.719 2.006-1.413s.248-1.289.173-1.413c-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 0 1-5.031-1.378l-.361-.214l-3.741.982l.998-3.648l-.235-.374a9.86 9.86 0 0 1-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884c2.64 0 5.122 1.03 6.988 2.898a9.82 9.82 0 0 1 2.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.82 11.82 0 0 0 12.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.9 11.9 0 0 0 5.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.82 11.82 0 0 0-3.48-8.413"
                ></path>
              </svg>
            </div>
          </a>
          <a
            href="https://www.instagram.com/jobnagringa.oficial/"
            target="_blank"
            class="social-links w-inline-block"
            aria-label="Instagram"
          >
            <div class="footer_social-icons w-embed">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="1em"
                height="1em"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  fill="currentColor"
                  d="M7.03.084c-1.277.06-2.149.264-2.91.563a5.9 5.9 0 0 0-2.124 1.388a5.9 5.9 0 0 0-1.38 2.127C.321 4.926.12 5.8.064 7.076s-.069 1.688-.063 4.947s.021 3.667.083 4.947c.061 1.277.264 2.149.563 2.911c.308.789.72 1.457 1.388 2.123a5.9 5.9 0 0 0 2.129 1.38c.763.295 1.636.496 2.913.552c1.278.056 1.689.069 4.947.063s3.668-.021 4.947-.082c1.28-.06 2.147-.265 2.91-.563a5.9 5.9 0 0 0 2.123-1.388a5.9 5.9 0 0 0 1.38-2.129c.295-.763.496-1.636.551-2.912c.056-1.28.07-1.69.063-4.948c-.006-3.258-.02-3.667-.081-4.947c-.06-1.28-.264-2.148-.564-2.911a5.9 5.9 0 0 0-1.387-2.123a5.9 5.9 0 0 0-2.128-1.38c-.764-.294-1.636-.496-2.914-.55C15.647.009 15.236-.006 11.977 0S8.31.021 7.03.084m.14 21.693c-1.17-.05-1.805-.245-2.228-.408a3.7 3.7 0 0 1-1.382-.895a3.7 3.7 0 0 1-.9-1.378c-.165-.423-.363-1.058-.417-2.228c-.06-1.264-.072-1.644-.08-4.848c-.006-3.204.006-3.583.061-4.848c.05-1.169.246-1.805.408-2.228c.216-.561.477-.96.895-1.382a3.7 3.7 0 0 1 1.379-.9c.423-.165 1.057-.361 2.227-.417c1.265-.06 1.644-.072 4.848-.08c3.203-.006 3.583.006 4.85.062c1.168.05 1.804.244 2.227.408c.56.216.96.475 1.382.895s.681.817.9 1.378c.165.422.362 1.056.417 2.227c.06 1.265.074 1.645.08 4.848c.005 3.203-.006 3.583-.061 4.848c-.051 1.17-.245 1.805-.408 2.23c-.216.56-.477.96-.896 1.38a3.7 3.7 0 0 1-1.378.9c-.422.165-1.058.362-2.226.418c-1.266.06-1.645.072-4.85.079s-3.582-.006-4.848-.06m9.783-16.192a1.44 1.44 0 1 0 1.437-1.442a1.44 1.44 0 0 0-1.437 1.442M5.839 12.012a6.161 6.161 0 1 0 12.323-.024a6.162 6.162 0 0 0-12.323.024M8 12.008A4 4 0 1 1 12.008 16A4 4 0 0 1 8 12.008"
                ></path>
              </svg>
            </div>
          </a>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  /* Profile Header Styles */
  .upper_wrap.is-profile {
    position: relative;
    padding-top: 6rem;
    padding-bottom: 2.5rem;
  }

  .profile-header {
    position: relative;
    z-index: 2;
    padding: 2.5rem 1rem 2rem;
  }

  .profile-header_content {
    text-align: center;
    max-width: 600px;
    margin: 0 auto;
  }

  .profile-header_content h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 0.625rem;
    letter-spacing: -0.01em;
  }

  .profile-header_content p {
    font-size: 1rem;
    color: var(--blues--blue-20, #b3d4ff);
    line-height: 1.6;
  }

  /* Quick Navigation */
  .profile-quick-nav {
    margin-bottom: 1.5rem;
  }

  .profile-nav-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--brand--primary, #0071ff);
    font-size: 0.875rem;
    font-weight: 500;
    text-decoration: none;
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    transition: all 0.2s ease;
    background: var(--neutrals--neutral-100-white, #fff);
    border: 1px solid var(--neutrals--neutral-300, #e4e4ed);
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
  }

  .profile-nav-link:hover {
    background: var(--blues--blue-10, #e6f0ff);
    color: var(--blues--blue-60, #0054bf);
    border-color: var(--brand--primary, #0071ff);
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
  }

  /* Profile Container */
  .profile-container {
    background: var(--neutrals--neutral-100-white, #fff);
    border-radius: 0.875rem;
    border: 1px solid var(--neutrals--neutral-300, #e4e4ed);
    box-shadow:
      0 1px 3px rgba(0, 0, 0, 0.08),
      0 4px 12px rgba(0, 0, 0, 0.04);
    overflow: hidden;
    min-height: 600px;
  }

  /* Clerk UserProfile Customization */
  .profile-container :global(.cl-rootBox) {
    width: 100%;
  }

  .profile-container :global(.cl-card) {
    border: none;
    box-shadow: none;
    border-radius: 0;
  }

  .profile-container :global(.cl-navbar) {
    background: var(--neutrals--neutral-200, #fafafa);
    border-right: 1px solid var(--neutrals--neutral-300, #e4e4ed);
  }

  .profile-container :global(.cl-navbarButton) {
    border-radius: 0.5rem;
    margin: 0.25rem 0.5rem;
    transition: all 0.2s ease;
  }

  .profile-container :global(.cl-navbarButton:hover) {
    background: var(--blues--blue-10, #e6f0ff);
  }

  .profile-container :global(.cl-navbarButton[data-active='true']) {
    background: var(--brand--primary, #0071ff);
    color: var(--neutrals--neutral-100-white, #fff);
    box-shadow: 0 1px 3px rgba(0, 113, 255, 0.3);
  }

  .profile-container :global(.cl-pageScrollBox) {
    padding: 2rem;
  }

  .profile-container :global(.cl-profileSection) {
    border: 1px solid var(--neutrals--neutral-300, #e4e4ed);
    border-radius: 0.75rem;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    transition: border-color 0.2s ease;
  }

  .profile-container :global(.cl-profileSectionTitle) {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--neutrals--neutral-800, #171728);
    margin-bottom: 1rem;
    letter-spacing: 0.01em;
  }

  .profile-container :global(.cl-formButtonPrimary) {
    background: var(--brand--primary, #0071ff);
    border-radius: 0.5rem;
    font-weight: 500;
    padding: 0.625rem 1.25rem;
    transition: all 0.2s ease;
  }

  .profile-container :global(.cl-formButtonPrimary:hover) {
    background: var(--blues--blue-60, #0054bf);
    transform: translateY(-1px);
    box-shadow: 0 2px 6px rgba(0, 113, 255, 0.25);
  }

  .profile-container :global(.cl-formButtonReset) {
    border-radius: 0.5rem;
    font-weight: 500;
    transition: all 0.2s ease;
  }

  .profile-container :global(.cl-formFieldInput) {
    border: 1px solid var(--neutrals--neutral-300, #e4e4ed);
    border-radius: 0.5rem;
    padding: 0.625rem 0.75rem;
    font-size: 0.875rem;
    transition: all 0.2s ease;
  }

  .profile-container :global(.cl-formFieldInput:focus) {
    border-color: var(--brand--primary, #0071ff);
    box-shadow: 0 0 0 3px rgba(0, 113, 255, 0.12);
    outline: none;
  }

  .profile-container :global(.cl-avatarBox) {
    border-radius: 50%;
    border: 3px solid var(--brand--primary, #0071ff);
    box-shadow: 0 2px 8px rgba(0, 113, 255, 0.15);
  }

  .profile-container :global(.cl-badge) {
    background: var(--brand--primary, #0071ff);
    border-radius: 0.25rem;
  }

  /* Help Section */
  .profile-help-section {
    margin-top: 2rem;
    margin-bottom: 2rem;
  }

  .profile-help-card {
    display: flex;
    gap: 1.5rem;
    background: linear-gradient(
      135deg,
      var(--blues--blue-10, #e6f0ff) 0%,
      var(--neutrals--neutral-100-white, #fff) 100%
    );
    border: 1px solid var(--blues--blue-20, #cce0ff);
    border-radius: 0.875rem;
    padding: 1.75rem 2rem;
    align-items: flex-start;
    transition: all 0.2s ease;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
  }

  .profile-help-card:hover {
    border-color: var(--brand--primary, #0071ff);
    box-shadow:
      0 1px 3px rgba(0, 0, 0, 0.06),
      0 4px 12px rgba(0, 113, 255, 0.06);
    transform: translateY(-1px);
  }

  .profile-help-icon {
    flex-shrink: 0;
    width: 3rem;
    height: 3rem;
    background: var(--brand--primary, #0071ff);
    border-radius: 0.75rem;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--neutrals--neutral-100-white, #fff);
    box-shadow: 0 2px 6px rgba(0, 113, 255, 0.3);
  }

  .profile-help-content h4 {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--neutrals--neutral-800, #171728);
    margin-bottom: 0.375rem;
    letter-spacing: 0.01em;
  }

  .profile-help-content p {
    font-size: 0.875rem;
    color: var(--neutrals--neutral-600, #686781);
    margin-bottom: 1rem;
    line-height: 1.6;
  }

  /* Responsive Styles */
  @media (max-width: 991px) {
    .profile-header_content h1 {
      font-size: 2rem;
    }

    .profile-container :global(.cl-rootBox) {
      flex-direction: column;
    }

    .profile-container :global(.cl-navbar) {
      border-right: none;
      border-bottom: 1px solid var(--neutrals--neutral-300, #e4e4ed);
    }
  }

  @media (max-width: 767px) {
    .upper_wrap.is-profile {
      padding-top: 5rem;
      padding-bottom: 2rem;
    }

    .profile-header {
      padding: 2rem 1rem 1.5rem;
    }

    .profile-header_content h1 {
      font-size: 1.75rem;
    }

    .profile-container :global(.cl-pageScrollBox) {
      padding: 1rem;
    }

    .profile-help-card {
      flex-direction: column;
      text-align: center;
      align-items: center;
      padding: 1.5rem;
    }

    .profile-help-content {
      text-align: center;
    }
  }

  @media (max-width: 479px) {
    .profile-header_content h1 {
      font-size: 1.5rem;
    }

    .profile-container :global(.cl-profileSection) {
      padding: 1rem;
    }

    .profile-help-card {
      padding: 1.25rem;
    }
  }
</style>
