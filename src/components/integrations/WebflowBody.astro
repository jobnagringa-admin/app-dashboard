---
/**
 * WebflowBody.astro
 *
 * Webflow Body Scripts
 *
 * Place this component at the end of <body> tag.
 *
 * Purpose:
 * - Load jQuery (required by Webflow)
 * - Load Webflow runtime JS
 *
 * Migration Notes:
 * - jQuery must load before webflow.js
 * - webflow.js handles all Webflow interactions
 * - Consider migrating animations to native CSS or Framer Motion
 */

interface Props {
  /**
   * Path to webflow.js file
   * @default '/js/webflow.js'
   */
  webflowJsPath?: string;

  /**
   * Webflow site ID
   */
  siteId?: string;

  /**
   * Include jQuery
   * @default true
   */
  includeJquery?: boolean;
}

const {
  webflowJsPath = '/js/webflow.js',
  siteId = '642953c962519376c853ab81',
  includeJquery = true
} = Astro.props;

const jqueryUrl = `https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=${siteId}`;
const jquerySri = 'sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=';
---

{/* jQuery from Cloudflare CDN */}
{includeJquery && (
  <script
    src={jqueryUrl}
    type="text/javascript"
    integrity={jquerySri}
    crossorigin="anonymous"
  ></script>
)}

{/* Webflow Runtime */}
<script src={webflowJsPath} type="text/javascript"></script>
