---
/**
 * FormWrapper Component - Wrapper for forms with success/error states
 *
 * @prop {string} id - Form id attribute
 * @prop {string} name - Form name attribute
 * @prop {string} method - Form method (get, post)
 * @prop {string} action - Form action URL
 * @prop {string} class - Additional CSS classes
 * @prop {string} successMessage - Success message text
 * @prop {string} errorMessage - Error message text
 * @prop {boolean} isJobSearch - Use job search form styling
 */

interface Props {
  id?: string;
  name?: string;
  method?: 'get' | 'post';
  action?: string;
  class?: string;
  successMessage?: string;
  errorMessage?: string;
  isJobSearch?: boolean;
}

const {
  id,
  name = id,
  method = 'get',
  action,
  class: className = '',
  successMessage = 'Thank you! Your submission has been received!',
  errorMessage = 'Oops! Something went wrong while submitting the form.',
  isJobSearch = false,
} = Astro.props;

const wrapperClass = isJobSearch ? 'job-search_form w-form' : 'w-form';
---

<div class={wrapperClass}>
  <form id={id} name={name} data-name={name} method={method} action={action} class={className} novalidate>
    <slot />
  </form>
  <div class="success-message w-form-done" role="alert" aria-live="polite" aria-atomic="true">
    <div>{successMessage}</div>
  </div>
  <div class="w-form-fail" role="alert" aria-live="assertive" aria-atomic="true">
    <div>{errorMessage}</div>
  </div>
</div>
