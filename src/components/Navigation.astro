---
/**
 * Navigation Component - Site header with public and member navigation variants
 *
 * @prop {boolean} isMemberNav - Show member navigation instead of public nav
 * @prop {string} currentPage - Current page for active state (e.g., 'dashboard', 'jobs', 'blog')
 * @prop {string} baseUrl - Base URL for assets (defaults to '')
 */

interface Props {
  isMemberNav?: boolean;
  currentPage?: string;
  baseUrl?: string;
}

const {
  isMemberNav = false,
  currentPage = '',
  baseUrl = '',
} = Astro.props;

const isActive = (page: string) => currentPage === page ? 'w--current' : '';
---

<div class="nav_wrapper">
  {isMemberNav ? (
    <div class="community_nav">
      <nav class="navbar--blue--primary" aria-label="Member navigation">
        <div class="navbar_wrapper">
          <div class="navbar_container">
            <div class="container-large">
              <div class="nav_container">
                <div class="nav_left-col">
                  <a href={`${baseUrl}/jng/member-dashboard`} class:list={["w-inline-block", isActive('dashboard')]} aria-label="Job na Gringa - Go to member dashboard">
                    <img
                      width="138"
                      height="20"
                      alt="Job na Gringa"
                      src={`${baseUrl}/images/Vectors-Wrapper.svg`}
                      loading="eager"
                      decoding="async"
                      fetchpriority="high"
                      class="logo_image"
                      style="aspect-ratio: 138 / 20;"
                    >
                  </a>
                  <div class="hide-tablet" aria-hidden="true">
                    <img
                      width="8"
                      height="8"
                      alt=""
                      src={`${baseUrl}/images/Vectors-Wrapper_1.svg`}
                      loading="lazy"
                      decoding="async"
                      class="icon-star"
                      role="presentation"
                      style="aspect-ratio: 1 / 1;"
                    >
                  </div>
                  <div class="hide-tablet">
                    <div class="text--tiny text-style-allcaps">WORKSHOPS</div>
                  </div>
                </div>
                <div class="nav_right-col">
                  <a href={`${baseUrl}/jng/jobs`} class:list={["navbar_link", isActive('jobs')]}>Vagas</a>
                  <a href="#" id="logout" class="navbar_link is-white w-button">Sair</a>
                </div>
                <button type="button" class="nav_menu-button" aria-label="Open mobile menu" aria-expanded="false" aria-controls="mobile-menu">
                  <div class="icon-1x1-medium w-embed" aria-hidden="true">
                    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                      <path fill="currentColor" d="M4 11h12v2H4zm0-5h16v2H4zm0 12h7.235v-2H4z"></path>
                    </svg>
                  </div>
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="embed-hidden w-embed">
          <style>
            input:-webkit-autofill,
            input:-webkit-autofill:hover,
            input:-webkit-autofill:focus,
            textarea:-webkit-autofill,
            textarea:-webkit-autofill:hover,
            textarea:-webkit-autofill:focus,
            select:-webkit-autofill,
            select:-webkit-autofill:hover,
            select:-webkit-autofill:focus {
              -webkit-box-shadow: 0 0 0px 1000px #fff inset;
              -webkit-text-fill-color: #0071ff;
            }
          </style>
        </div>
        <div class="nav_close-overlay"></div>
      </nav>
    </div>
  ) : (
    <div class="public_nav">
      <nav class="navbar--blue--primary" aria-label="Main navigation">
        <div class="navbar_wrapper">
          <div class="navbar_container">
            <a href={`${baseUrl}/`} class:list={["navbar_logo w-inline-block", isActive('home')]} aria-label="Job na Gringa - Go to homepage">
              <img
                src={`${baseUrl}/images/Vectors-Wrapper.svg`}
                loading="eager"
                decoding="async"
                fetchpriority="high"
                width="138"
                height="20"
                alt="Job na Gringa"
                class="logo_image hide-tablet"
                style="aspect-ratio: 138 / 20;"
              >
              <img
                src={`${baseUrl}/images/logo-small_white.svg`}
                loading="eager"
                decoding="async"
                fetchpriority="high"
                width="32"
                height="32"
                alt="Job na Gringa"
                class="logo_image hide-desktop"
                style="aspect-ratio: 1 / 1;"
              >
            </a>
            <div class="navbar_link-wrap" role="menubar">
              <a href="http://accounts.jobnagringa.com.br/sign-in?redirect_url=https://jobnagringa.com.br" class="navbar_link w-inline-block" role="menuitem">
                <span>Vagas</span>
              </a>
              <a href={`${baseUrl}/blog`} class:list={["navbar_link w-inline-block", isActive('blog')]} role="menuitem">
                <span>Blog</span>
              </a>
              <a href="http://accounts.jobnagringa.com.br/sign-in?redirect_url=https://jobnagringa.com.br/redirect/zap-channel" target="_blank" rel="noopener noreferrer" class="navbar_link w-inline-block" role="menuitem" aria-label="WhatsApp Group (opens in new tab)">
                <span>Grupo Whats</span>
              </a>
              <a href="http://accounts.jobnagringa.com.br/sign-in?redirect_url=https://link.jobnagringa.com.br/discord" target="_blank" rel="noopener noreferrer" class="navbar_link w-inline-block" role="menuitem" aria-label="Discord (opens in new tab)">
                <span>Discord</span>
              </a>
            </div>
            <div class="navbar_button-wrap">
              <a href={`${baseUrl}/assine`} class:list={["navbar_link w-inline-block", isActive('assine')]}>
                <span>Assine</span>
              </a>
              <a href="https://accounts.jobnagringa.com.br/sign-in?redirect_url=https://jobnagringa.com.br/jng/member-dashboard" class="navbar_link is-white w-inline-block">
                <span>Login</span>
              </a>
              <button type="button" class="navbar_mobile-menu" aria-label="Open mobile menu" aria-expanded="false">
                <div class="icon-1x1-medium w-embed" aria-hidden="true">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" aria-hidden="true" focusable="false">
                    <path fill="currentColor" d="M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75m0 5A.75.75 0 0 1 2.75 9h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 9.75M2.75 14a.75.75 0 0 0 0 1.5h14.5a.75.75 0 0 0 0-1.5z"></path>
                  </svg>
                </div>
              </button>
            </div>
          </div>
        </div>
        <div class="w-embed">
          <style>
            .item__arrow {
              display: none;
            }
            .w--current .item__arrow {
              display: flex;
            }
          </style>
        </div>
        <div class="hide-desktop">
          <div class="spacer-xlarge"></div>
        </div>
      </nav>
    </div>
  )}

  <!-- Global scrollbar styles -->
  <div class="general_style w-embed">
    <style>
      ::-webkit-scrollbar {
        width: 0.5rem;
        height: 0.5rem;
      }
      ::-webkit-scrollbar-track {
        border-radius: 100rem;
        background: #fff;
      }
      ::-webkit-scrollbar-thumb {
        border-radius: 100rem;
        background: var(--neutrals--neutral-300);
      }
      ::-webkit-scrollbar-thumb:hover {
        background: var(--blues--blue-20);
      }
      .link-return:hover .button {
        background: var(--blues--blue-50);
        color: #fff;
      }
      select, .input_field.is-select {
        -moz-appearance: none;
        -webkit-appearance: none;
        appearance: none;
        background-position: 100% 50%;
        background-size: 1rem 1rem;
        background-repeat: no-repeat;
        background-position: right 0.5rem center;
      }
      [acronym] {
        font-family: monospace;
        width: 2ch;
        overflow: hidden;
        white-space: nowrap;
      }
    </style>
  </div>
</div>
